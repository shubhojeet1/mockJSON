<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Wishlist Page</title>
    <style>
      body {
        padding: 0;
        margin: 0;
        font-family: ProximaNova-Semibold, "Helvetica Neue", Arial, sans-serif,
          "Apple Color Emoji", "Segoe UI Emoji";
      }
      nav {
        display: flex;
        /* border: 1px solid red; */
        justify-content: space-evenly;
        background-color: rgb(231, 237, 42);
        border-bottom-left-radius: 30px;
        border-bottom-right-radius: 30px;
        width: 100%;
        top: 0;
        position: sticky;
        z-index: 999;
        border-bottom: 6px solid rgb(200, 205, 110);
      }
      nav a {
        text-decoration: none;
        font-weight: 500;
        line-height: 30px;
      }
      nav a:hover {
        color: rgb(228, 139, 139);
      }
      nav p {
        text-decoration: none;
        font-weight: 300;
      }
    </style>
  </head>
  <body>
    <div id="NavSec">
      <nav>
        <p>ðŸš” Masai carWale</p>
        <a href="index.html"><p>Ad Page</p></a>
        <a href="car_page.html"><p>Cars Page</p></a>
        <a href="wishlist_page.html"><p>Wishlist page</p></a>
      </nav>
    </div>
    <div id="cont">

    </div>
  </body>
  <script>
    let url = "https://kaalu.onrender.com/wishlisted_cars"

    getdata(url)
       async function getdata(url){
          try{
           let res = await fetch(url)
           let data = await res.json()
           console.log(data)
           display(data)
          }
          catch(err){console.log(err)}
       }

       function  display(data){
           document.getElementById('cont').innerHTML=""
           data.forEach(({Price,Description,kms,year,brand,type,id}) => {
               let maindiv = document.createElement('div')
               let image = document.createElement('img')
               image.src="https://img.gaadicdn.com/images/car-images/360x240/Hyundai/Verna/6788/1585563123472/221_Starry-Night_121829.jpg"
              
               let first_line = document.createElement('h4')
               first_line.innerText=`${year} ${brand}`

               let Type = document.createElement('div')
               Type.innerText="XE 1.2 "
               Type.setAttribute('id',"type")
               let span_type = document.createElement('span')
                span_type.innerText=type
                Type.append(span_type)

                let button_div = document.createElement('div')
                button_div.setAttribute('id',"kms_button")
                let button1 = document.createElement('button')
                button1.innerText=kms
                let button2 = document.createElement('button')
                button2.innerText="1st Owner"
                let button3 = document.createElement('button')
                button3.innerText="Petrol"
                button_div.append(button1,button2,button3)

                let Desc = document.createElement('p')
                Desc.innerText=Description

                let price = document.createElement('h2')
                price.innerText="â‚¹"+Price

                let Crud_button= document.createElement('div')
                Crud_button.setAttribute('id',"operation_button")
                let Crud_button1 = document.createElement('button')
                Crud_button1.innerText='Add to wishlist'
                Crud_button1.addEventListener('click',()=>{
                   let ele = {Price,Description,kms,year,brand,type}
                   addtowishlist(ele)
                })
                let Crud_button2 = document.createElement('button')
                Crud_button2.innerText="Delete"
                Crud_button2.addEventListener('click',()=>{
                   deletelement(id)
                })
                let Crud_button3 = document.createElement('button')
                Crud_button3.innerText="Edit"
                Crud_button.append(Crud_button1,Crud_button2,Crud_button3)

                maindiv.append(image,first_line,Type,button_div,Desc,price,Crud_button)
                document.getElementById('cont').append(maindiv)
           });
        }  function  display(data){
           document.getElementById('cont').innerHTML=""
           data.forEach(({Price,Description,kms,year,brand,type,id}) => {
               let maindiv = document.createElement('div')
               let image = document.createElement('img')
               image.src="https://img.gaadicdn.com/images/car-images/360x240/Hyundai/Verna/6788/1585563123472/221_Starry-Night_121829.jpg"
              
               let first_line = document.createElement('h4')
               first_line.innerText=`${year} ${brand}`

               let Type = document.createElement('div')
               Type.innerText="XE 1.2 "
               Type.setAttribute('id',"type")
               let span_type = document.createElement('span')
                span_type.innerText=type
                Type.append(span_type)

                let button_div = document.createElement('div')
                button_div.setAttribute('id',"kms_button")
                let button1 = document.createElement('button')
                button1.innerText=kms
                let button2 = document.createElement('button')
                button2.innerText="1st Owner"
                let button3 = document.createElement('button')
                button3.innerText="Petrol"
                button_div.append(button1,button2,button3)

                let Desc = document.createElement('p')
                Desc.innerText=Description

                let price = document.createElement('h2')
                price.innerText="â‚¹"+Price

                maindiv.append(image,first_line,Type,button_div,Desc,price)
                document.getElementById('cont').append(maindiv)
           });
        }
</script>
</html>
